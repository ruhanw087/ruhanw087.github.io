<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>R. W. — Portfolio</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.min.js"></script>
<style>
  video, img { border: 1px solid black; margin: 10px; }
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: #f7f7f9;
    color: #222;
    line-height: 1.6;
  }
  header {
    background: white;
    padding: 3rem 1.5rem;
    text-align: center;
    border-bottom: 1px solid #ddd;
  }
  h1 {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
  }
  h2 {
    margin-top: 2rem;
    font-size: 1.8rem;
  }
  .container {
    max-width: 850px;
    margin: 0 auto;
    padding: 2rem 1.5rem;
  }
  .section {
    background: white;
    padding: 1.8rem;
    margin-bottom: 1.5rem;
    border-radius: 12px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  }
  ul {
    padding-left: 1.2rem;
  }
  footer {
    text-align: center;
    padding: 2rem;
    font-size: 0.9rem;
    color: #666;
  }
</style>
</head>
<body>
  <header>
    <h1>R. W.</h1>
    <p>Physics @ UCLA · Cloud Security · Applied Machine Learning · Tennis</p>
  </header>

  <div class="container">

    <div class="section">
      <h2>About Me</h2>
      <p>
        I'm a UCLA physics graduate with experience across cloud security posture management (CSPM), applied machine learning, and full‑stack development. I enjoy building systems that blend rigorous analytical thinking with real‑world impact — from securing cloud resources at scale to translating sign language using computer vision models. Outside of technical work, I'm an avid tennis player.
      </p>
    </div>
    <div>
      <img src="{{ url_for('video_prediction') }}" alt="Video Stream">
    </div>
    <div class="section">
      <h2>Highlighted Projects</h2>
      <ul>
        <li><strong>Sign Language Translator:</strong> Built a real‑time ASL translation system using computer vision, MediaPipe hand‑pose estimation, and sequence classification models to output text predictions.</li>
        <li><strong>CSPM Automation Work:</strong> Developed detections, audits, and policy logic to identify misconfigurations across cloud environments; contributed to scripts, pipelines, and workflows for secure resource baselining.</li>
        <li><strong>Physics + Data Science:</strong> Leveraged my physics background and data science minor to apply statistical modeling, simulations, and signal processing to complex analytical problems.</li>
      </ul>
    </div>

    <div class="section">
      <h2>Interests</h2>
      <p>
        Cloud security · ML/AI safety · Computer vision · Distributed systems · Tennis · Data‑driven research · Physics-informed modeling
      </p>
    </div>

  </div>
  <canvas id="canvas" width="320" height="240" style="display:none;"></canvas>
  <img id="processedFrame" width="320" height="240" alt="Processed frame">
  <script>
    const video = document.createElement('video'); // hidden video element
    video.autoplay = true;
    video.width = 160;
    video.height = 120;
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const processedImg = document.getElementById('processedFrame');
        const predictionEl = document.getElementById('prediction');
    
        // Access webcam
        navigator.mediaDevices.getUserMedia({ video: true })
            .then(stream => { 
                video.srcObject = stream;
                console.log("Webcam access granted");
            })
            .catch(err => console.error("Webcam error:", err));
    
        // Connect to Socket.IO server
        const socket = io("http://ec2-3-14-3-38.us-east-2.compute.amazonaws.com", { transports: ["websocket"] });
    
        socket.on('connect', () => {
            console.log("Connected to Socket.IO server with ID:", socket.id);
        });
    
        socket.on('connect_error', (err) => {
            console.error("Socket.IO connection error:", err);
        });
    
        socket.on('processed_frame', (data) => {
        if(data.image) processedImg.src = data.image;   // refresh frame
        if(data.prediction) predictionEl.textContent = "Prediction: " + data.prediction;
    });
    
        function sendFrame() {
            if(video.readyState !== 4) return; // Video not ready yet
    
            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
            canvas.toBlob(blob => {
                const reader = new FileReader();
                reader.onload = () => {
                    const b64data = reader.result;
                    socket.emit('frame', { image: b64data });
                    console.log("Frame sent", b64data.slice(0,50));
                };
                reader.readAsDataURL(blob);
            }, 'image/jpeg');
        }
    
        // Send frames at ~5 FPS
        setInterval(sendFrame, 100);
    </script>

  <footer>
    © 2025 R. W. All Rights Reserved.
  </footer>
</body>
</html>
